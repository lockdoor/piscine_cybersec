###########################  dabian:bookworm-slim  #################################################
# FROM debian:bookworm-slim

# RUN apt-get update && apt-get install -y openssl python3 python3-pip python3-cryptography

# RUN useradd -m -s /bin/bash user

# USER user

# WORKDIR /home/user

# CMD ["/bin/bash"]

############################## alpine python #########################################

FROM python:3.12.9-alpine3.21
RUN apk update && apk upgrade
RUN pip install cryptography
RUN adduser -D user -s /bin/sh
WORKDIR /home/user
COPY ./infection ./infection
COPY ./stockholm.py ./stockholm.py
RUN chown -R user:user .
USER user
CMD ["/bin/sh"]
